<?php/** * Trim a string to a given number of words * * @param $string *   the original string * @param $count *   the word count * @param $ellipsis *   TRUE to add "..." *   or use a string to define other character * @param $node *   provide the node and we'll set the $node-> * * @return *   trimmed string with ellipsis added if it was truncated */if(!function_exists('word_trim')){    function word_trim($string, $count, $ellipsis = FALSE){        $words = explode(' ', $string);        if (count($words) > $count){            array_splice($words, $count);            $string = implode(' ', $words);            if (is_string($ellipsis)){                $string .= $ellipsis;            }            elseif ($ellipsis){                $string .= '&hellip;';            }        }        return $string;    }}?>